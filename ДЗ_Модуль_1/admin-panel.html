<!DOCTYPE html>
<html lang="ru">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Таблица со статусами</title>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
			rel="stylesheet"
		/>
		<style>
			.status-cell {
				min-width: 120px;
			}
			.status-одобрено {
				color: #198754;
				font-weight: 500;
			}
			.status-выполнено {
				color: #0d6efd;
				font-weight: 500;
			}
			.status-отклонить {
				color: #dc3545;
				font-weight: 500;
			}
			.status-default {
				color: #6c757d;
			}
		</style>
	</head>
	<body>
		<header>
			<nav class="navbar bg-body-tertiary">
				<div class="container-fluid">
					<a class="navbar-brand" href="#"
						>Админ панель едем, но это не точно</a
					>
					<li class="nav-item">
						<a class="nav-link active" aria-current="page" href="register.html"
							>Выйти</a
						>
					</li>
				</div>
			</nav>
		</header>
		<div
			class="justify-content-center gap-3 flex-column w-25 mx-auto p-5"
			style="display: flex; gap: 10px; flex-direction: column"
			id="fallback"
		>
			<input
				type="text"
				id="login"
				class="form-control mt-2"
				placeholder="Логин"
			/>
			<input
				type="text"
				id="password"
				class="form-control mt-2"
				placeholder="Пароль"
			/>
			<button id="submit-btn" class="btn btn-secondary mt-2">Войти</button>
			<p id="error-text" class="text-danger"></p>
		</div>
		<div id="admin-content" class="container mt-4">
			<table class="table">
				<thead>
					<tr>
						<th scope="col">Номер</th>
						<th scope="col">Логин</th>
						<th scope="col">Документы</th>
						<th scope="col">Марка автомобиля</th>
						<th scope="col">Статус</th>
						<!-- Колонка для отображения статуса -->
						<th scope="col">Действие</th>
						<!-- Колонка для дропдауна -->
					</tr>
				</thead>
				<tbody>
					<tr>
						<th scope="row">1</th>
						<td>kapot</td>
						<td>22 66 8989</td>
						<td>SLR 2023</td>
						<td class="status-cell status-default" id="status-1">Не выбран</td>
						<td>
							<div class="dropdown">
								<button
									class="btn btn-sm btn-outline-secondary dropdown-toggle"
									type="button"
									data-bs-toggle="dropdown"
								>
									Выбрать статус
								</button>
								<ul class="dropdown-menu">
									<li>
										<a
											class="dropdown-item status-option"
											href="#"
											data-status="отклонить"
											data-row="1"
											>Отклонить</a
										>
									</li>
									<li>
										<a
											class="dropdown-item status-option"
											href="#"
											data-status="выполнено"
											data-row="1"
											>Выполнено</a
										>
									</li>
									<li>
										<a
											class="dropdown-item status-option"
											href="#"
											data-status="одобрено"
											data-row="1"
											>Одобрено</a
										>
									</li>
								</ul>
							</div>
						</td>
					</tr>
					<tr>
						<th scope="row">2</th>
						<td>Jaba22</td>
						<td>04 22 44988</td>
						<td>GLS 2025</td>
						<td class="status-cell status-default" id="status-2">Не выбран</td>
						<td>
							<div class="dropdown">
								<button
									class="btn btn-sm btn-outline-secondary dropdown-toggle"
									type="button"
									data-bs-toggle="dropdown"
								>
									Выбрать статус
								</button>
								<ul class="dropdown-menu">
									<li>
										<a
											class="dropdown-item status-option"
											href="#"
											data-status="отклонить"
											data-row="2"
											>Отклонить</a
										>
									</li>
									<li>
										<a
											class="dropdown-item status-option"
											href="#"
											data-status="выполнено"
											data-row="2"
											>Выполнено</a
										>
									</li>
									<li>
										<a
											class="dropdown-item status-option"
											href="#"
											data-status="одобрено"
											data-row="2"
											>Одобрено</a
										>
									</li>
								</ul>
							</div>
						</td>
					</tr>
					<tr>
						<th scope="row">3</th>
						<td>kumik228FBI</td>
						<td>23 32 3233</td>
						<td>NISSAN GTR 2030</td>
						<td class="status-cell status-default" id="status-3">Не выбран</td>
						<td>
							<div class="dropdown">
								<button
									class="btn btn-sm btn-outline-secondary dropdown-toggle"
									type="button"
									data-bs-toggle="dropdown"
								>
									Выбрать статус
								</button>
								<ul class="dropdown-menu">
									<li>
										<a
											class="dropdown-item status-option"
											href="#"
											data-status="отклонить"
											data-row="3"
											>Отклонить</a
										>
									</li>
									<li>
										<a
											class="dropdown-item status-option"
											href="#"
											data-status="выполнено"
											data-row="3"
											>Выполнено</a
										>
									</li>
									<li>
										<a
											class="dropdown-item status-option"
											href="#"
											data-status="одобрено"
											data-row="3"
											>Одобрено</a
										>
									</li>
								</ul>
							</div>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<script src="/script/admin.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
		<script>
			document.addEventListener('DOMContentLoaded', function () {
				document.querySelectorAll('.status-option').forEach(option => {
					option.addEventListener('click', function (e) {
						e.preventDefault()

						const status = this.getAttribute('data-status')
						const rowNumber = this.getAttribute('data-row')
						const statusCell = document.getElementById('status-' + rowNumber)

						statusCell.textContent =
							status.charAt(0).toUpperCase() + status.slice(1)

						statusCell.className = 'status-cell status-' + status
					})
				})
			})
		</script>
	</body>
</html>
